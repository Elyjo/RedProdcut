import{a as S,r as n,u as A,j as e,H as F,L as B,z as m,b as W}from"./app-ft3BBgpj.js";import{H as v,I as a}from"./button-maqmhjPI.js";import{A as z}from"./AuthenticatedLayout-CHutoOAV.js";function X({}){const{hotels:i}=S().props,[w,c]=n.useState(!1),[p,d]=n.useState(null),[y,x]=n.useState(i),[h,f]=n.useState(!1),[N,g]=n.useState(null),{data:r,setData:l,post:k,put:L,processing:C,reset:j}=A({name:"",city:"",email:"",phone:"",price:"",devise:"XOF",image:null});n.useEffect(()=>{x(i)},[i]);const E=s=>{s.preventDefault(),console.log(r),k(route("hotels.store"),{forceFormData:!0,onSuccess:t=>{const o=t.props.hotels.slice(-1)[0];x(u=>[...u,o]),j(),d(null),c(!1),m.success("Hôtel créé avec succès !")}})},H=s=>{W.delete(route("hotels.destroy",s),{onSuccess:()=>{x(t=>t.filter(o=>o.id!==s)),m.success("Hôtel supprimé avec succès !")}})},D=s=>{s.preventDefault(),console.log("Modification faite"),L(route("hotels.update",N),r,{forceFormData:!0,onSuccess:t=>{const o=t.props.hotels;x(u=>u.map(b=>b.id===o.id?o:b)),j(),d(null),c(!1),f(!1),g(null),m.success("Hôtel modifié avec succès !")},onError:()=>{m.error("Erreur lors de la modification")}})},M=s=>{l({name:s.name,city:s.city,email:s.email,phone:s.phone,price:s.price,devise:s.devise,image:null}),d(s.image?`/storage/${s.image}`:null),f(!0),g(s.id),c(!0)};return e.jsxs(z,{header:"Liste des hôtels",menu:"hotels",children:[e.jsx(F,{title:"Hôtels"}),e.jsx("div",{className:"bg-white sm:py-1.5 sm:mt-8 mt-[80px] fixed top-6 sm:top-[32px] left-0 sm:left-[241px] right-0 z-10",children:e.jsxs("div",{className:"flex flex-row justify-between justify-center items-center caret-transparent ml-2 p-6",children:[e.jsxs("p",{className:"sm:text-[32px] tex-xl font-thin relative right-[8px] sm:right-0 ",children:["Hôtels ",e.jsx("span",{className:"text-[#C3C3C3DE]",children:i.length})]}),e.jsx(v,{onClick:()=>c(!0),className:"bg-white sm:px-6 sm:py-2 px-2 py-1 rounded-[14px] border border-1 border-[#AEAEAE] mr-5 relative sm:left-[20px] left-[20px]",children:e.jsxs("div",{className:"flex flex-row items-center justify-center sm:gap-2 gap-1",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"sm:h-5 sm:w-5 h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("p",{className:"sm:text-lg text-xs",children:"Créer un nouveau hôtel "})]})})]})}),w&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx("div",{className:"flex flex-col items-start bg-white sm:w-[600px] w-[410px] h-[438px] sm:h-[638px]",children:e.jsxs("div",{className:"ml-5",children:[e.jsxs("div",{className:"flex flex-row gap-2 sm:mt-14 mt-6 caret-transparent items-center",children:[e.jsx(B,{onClick:()=>c(!1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"sm:h-6 sm:w-6 h-5 w-5 text-[#555555] ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 12H5M12 19l-7-7 7-7"})})}),e.jsx("h1",{className:"sm:text-xl text-base text-[#555555] font-bold ",children:h?"Modifier l'hôtel":"Créer un nouveau hôtel"})]}),e.jsx("div",{children:e.jsxs("form",{onSubmit:h?D:E,children:[e.jsxs("div",{className:"flex flex-row gap-6 sm:mt-4 mt-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(a,{children:"Nom de l'hôtel"}),e.jsx("input",{className:"rounded-lg sm:w-64 sm:h-10 w-[160px] h-[25px] border-1 border-gray-400 placeholder-black sm:font-bold font-semibold focus:ring-gray-500 focus:border-gray-500 placeholder:text-xs sm:placeholder:text-base text-xs sm:text-base",type:"text",placeholder:"CAP Marniane",value:r.name,onChange:s=>l("name",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(a,{children:"Adresse"}),e.jsx("input",{className:"rounded-lg sm:w-64 sm:h-10 w-[160px] h-[30px] border-1 border-gray-400 placeholder-black sm:font-bold font-semibold focus:ring-gray-500 focus:border-gray-500 placeholder:text-xs sm:placeholder:text-base text-xs sm:text-base",type:"text",placeholder:"Les îles du saloum, Mar Lodj",value:r.city,onChange:s=>l("city",s.target.value)})]})]}),e.jsxs("div",{className:"flex flex-row gap-6 sm:mt-4 mt-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(a,{children:"E-mail"}),e.jsx("input",{className:"rounded-lg sm:w-64 sm:h-10 w-[160px] h-[30px] border-1 border-gray-400 placeholder-black sm:font-bold font-semibold focus:ring-gray-500 focus:border-gray-500 placeholder:text-xs sm:placeholder:text-base text-xs sm:text-base",type:"text",placeholder:"information@gmail.com",value:r.email,onChange:s=>l("email",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(a,{children:"Numéro de téléphone"}),e.jsx("input",{className:"rounded-lg sm:w-64 sm:h-10 w-[160px] h-[30px] border-1 border-gray-400 placeholder-black sm:font-bold font-semibold focus:ring-gray-500 focus:border-gray-500 placeholder:text-xs sm:placeholder:text-base text-xs sm:text-base",type:"text",placeholder:"+221 77 777 77 77",value:r.phone,onChange:s=>l("phone",s.target.value)})]})]}),e.jsxs("div",{className:"flex flex-row gap-6 sm:mt-4 mt-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(a,{children:"Prix par nuit"}),e.jsx("input",{className:"rounded-lg sm:w-64 sm:h-10 w-[160px] h-[30px] border-1 border-gray-400 placeholder-black sm:font-bold font-semibold focus:ring-gray-500 focus:border-gray-500 placeholder:text-xs sm:placeholder:text-base text-xs sm:text-base",type:"text",placeholder:"25000",value:r.price,onChange:s=>l("price",s.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(a,{children:"Devise"}),e.jsxs("select",{class:"bg-white border-1 border-gray-400 sm:text-sm text-xs sm:font-bold font-semibold rounded-lg focus:ring-gray-500 focus:border-gray-500 block sm:w-64 sm:h-10 w-[160px] h-[30px] overflow-y-hidden",value:r.devise,onChange:s=>l("devise",s.target.value),children:[e.jsx("option",{value:"XOF",children:"XOF"}),e.jsx("option",{value:"Euro",children:"Euro"}),e.jsx("option",{value:"Dollar",children:"Dollar"})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(a,{children:"Ajouter une photo"})}),e.jsx("div",{className:"mt-2 sm:w-[534px] sm:h-[140px] w-[343px] h-[75px] rounded-lg border border-1 border-gray-400 relative overflow-hidden caret-transparent",children:e.jsxs("label",{className:"absolute inset-0 cursor-pointer flex flex-col items-center ",children:[e.jsx("input",{type:"file",className:"hidden",onChange:s=>{const t=s.target.files[0];l("image",t),t&&d(URL.createObjectURL(t))}}),!p&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-1 items-center sm:mt-6 mt-2",children:[e.jsx("img",{className:"sm:w-10 sm:h-10 w-6 h-6",src:"/photo.png",alt:"phto"}),e.jsx("p",{className:"sm:text-sm text-xs text-[#BDBDBD] caret-transparent",children:"Ajouter une photo"})]})}),p&&e.jsx(e.Fragment,{children:e.jsx("img",{className:"w-full h-full",src:p,alt:"photo"})})]})}),e.jsx("div",{className:"flex flex-row justify-end sm:mt-3 mt-3 caret-transparent",children:e.jsx(v,{type:"submit",className:"sm:w-[150px] sm:h-[40px] w-[100px] h-[30px] bg-[#555555] rounded-lg text-white sm:text-sm text-xs sm:font-bold font-semibold",disabled:C,children:h?"Modifier":"Enregistrer"})})]})})]})})}),e.jsx("div",{className:"sm:ml-8 ml-5 grid sm:grid-cols-4 grid-cols-2 caret-transparent cursor-pointer mt-[180px] sm:gap-y-4 gap-y-5",children:i.length>0?y.map(s=>e.jsxs("div",{className:"group sm:w-[230.57px] sm:h-[280.43px] w-[175px] h-[220px] bg-white rounded-[13.65px] shadow transform transition-transform duration-300 ease-out hover:-translate-y-1",children:[e.jsx("img",{className:"rounded-t-[13.65px] sm:h-[160px] sm:w-[232px] h-[110px] w-[175px] ",src:s.image?`/storage/${s.image}`:"/h1.jpg",alt:s.name}),e.jsxs("div",{className:"flex flex-col ml-2 mt-2",children:[e.jsx("p",{className:"sm:text-sm text-xs text-[#8D4B38] font-normal truncate max-w-[230px]",children:s.city}),e.jsx("h1",{className:"sm:text-base text-sm font-bold text-[#222222] mb-2",children:s.name}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"sm:text-sm text-xs text-[#222222] font-normal ",children:[Number(s.price).toLocaleString("fr-FR")," ",e.jsxs("span",{children:[s.devise," ",e.jsx("span",{children:"par nuit"})]})]})}),e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-row items-center justify-center mr-2 sm:gap-4 gap-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"sm:h-6 sm:w-6 h-4 w-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:()=>M(s),children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536M9 11l6.232-6.232a2 2 0 112.828 2.828L11.828 13.828a2 2 0 01-1.414.586H9v-1.414a2 2 0 01.586-1.414z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 19h14"})]}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"sm:h-5 sm:w-5 h-3 w-3 text-red-400 ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:()=>H(s.id),children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 7h12M10 11v6M14 11v6M5 7l1 12a2 2 0 002 2h8a2 2 0 002-2l1-12M9 7V5a1 1 0 011-1h4a1 1 0 011 1v2"})})]})]})]})]},s.id)):e.jsx("p",{className:"text-gray-500",children:"Aucun hôtel trouvé"})})]})}export{X as default};
